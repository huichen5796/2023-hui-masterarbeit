<div class="main">
    <button mat-button (click)="viewData()" class="view">
        <mat-icon *ngIf="!hidden">fullscreen_exit</mat-icon>
        <mat-icon *ngIf="hidden">fullscreen</mat-icon>
    </button>
    <div class="show" *ngIf="!hidden">
        <button (click)="slideLeft()" class="flat-button"><mat-icon *ngIf="!isAtStart" class="button-icon"
                style="transform: translateX(-8px) translateY(-2px);">keyboard_arrow_left</mat-icon></button>
        <div class="box">
            <div class="container" [style.transform]="'translateX(' + containerOffset + 'px)'"
                *ngFor="let callBack of callBacks">
                <mat-card class="example-card">
                    <div class="button-delete">
                        <button mat-icon-button (click)="delete(callBack['Sample_ID'])">
                            <mat-icon>fullscreen_exit</mat-icon>
                        </button>
                    </div>

                    <mat-card-header>
                        <mat-card-title>{{ callBack['Sample_ID'] }}</mat-card-title>
                        <mat-card-subtitle>{{ openSearch['which'] }}</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content class="content-box">
                        <div *ngFor="let topItem of topItems">
                            <p><span class="key">{{ topItem }}:</span> {{ callBack[topItem] }}</p>
                        </div>
                        <div *ngFor="let key of getObjectKeys(itemShow)">
                            <mat-card-subtitle>{{ key }}: </mat-card-subtitle>
                            <p *ngFor="let item of itemShow[key]"><span class="key">{{ item }}:</span> {{ callBack[item]
                                }}</p>
                        </div>
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
        <button (click)="slideRight()" class="flat-button"><mat-icon *ngIf="!isAtEnd" class="button-icon"
                style="transform: translateX(-8px) translateY(-2px);">keyboard_arrow_right</mat-icon></button>
    </div>
    <div class="analyse" *ngIf="showTable">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 demo-table" matSort (matSortChange)="sortData($event)">
            <ng-container matColumnDef="{{item}}" *ngFor="let item of tableHeader">
                <th mat-header-cell mat-sort-header *matHeaderCellDef>{{item}}</th>
                <td mat-cell *matCellDef="let element">
                    <div *ngIf="element[item]">
                        <span *ngIf="isString(element[item])">{{element[item]}}</span>
                    <span *ngIf="!isString(element[item])">{{element[item]['mean']}} (SE: {{element[item]['SE']}})</span>
                    </div>
                    
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="tableHeader"></tr>
            <tr mat-row (click)="clickedRow(row)" *matRowDef="let row; columns: tableHeader"></tr>
        </table>
        
    </div>
</div>